sn00py:poc fpanettieri$ node peron.js
[2019-02-28T20:36:14.486Z] [Peron/main] peronizando
[2019-02-28T20:36:14.489Z] [lib/backbone] initializing
[2019-02-28T20:36:14.491Z] [broker/bitmex] creating fake market position
[2019-02-28T20:36:14.492Z] [lib/https] POST https://testnet.bitmex.com/api/v1/order
[2019-02-28T20:36:14.522Z] [lib/backbone] chaining SocketConnected => DownloadHistory
[2019-02-28T20:36:14.523Z] [lib/backbone] chaining HistoryDownloaded => WatchMarket
[2019-02-28T20:36:14.523Z] [lib/backbone] ConnectSocket
[2019-02-28T20:36:16.167Z] [core/adapter] connection established
[2019-02-28T20:36:16.169Z] [core/adapter] GET/realtime1582922176
[2019-02-28T20:36:16.175Z] [core/adapter] limit updated: 39
[2019-02-28T20:36:16.389Z] [lib/bitmex] x-ratelimit-remaining 299
[2019-02-28T20:36:16.389Z] [broker/bitmex] { orderID: '4c14b355-d652-85fd-736c-e4fbb06c861f',
  clOrdID: 'test-mk',
  clOrdLinkID: '',
  account: 153475,
  symbol: 'XBTUSD',
  side: 'Buy',
  simpleOrderQty: null,
  orderQty: 1,
  price: 3807,
  displayQty: null,
  stopPx: null,
  pegOffsetValue: null,
  pegPriceType: '',
  currency: 'USD',
  settlCurrency: 'XBt',
  ordType: 'Market',
  timeInForce: 'ImmediateOrCancel',
  execInst: '',
  contingencyType: '',
  exDestination: 'XBME',
  ordStatus: 'Filled',
  triggered: '',
  workingIndicator: false,
  ordRejReason: '',
  simpleLeavesQty: null,
  leavesQty: 0,
  simpleCumQty: null,
  cumQty: 1,
  avgPx: 3807,
  multiLegReportingType: 'SingleSecurity',
  text: 'Submitted via API.',
  transactTime: '2019-02-28T20:36:16.334Z',
  timestamp: '2019-02-28T20:36:16.334Z' }
[2019-02-28T20:36:16.512Z] [lib/backbone] SocketConnected
[2019-02-28T20:36:16.512Z] [lib/backbone] DownloadHistory
[2019-02-28T20:36:16.513Z] [lib/https] GET https://testnet.bitmex.com/api/v1/trade/bucketed?binSize=1m&partial=false&symbol=XBTUSD&count=50&reverse=true
[2019-02-28T20:36:17.912Z] [lib/bitmex] x-ratelimit-remaining 299
[2019-02-28T20:36:17.913Z] [lib/backbone] HistoryDownloaded
[2019-02-28T20:36:17.914Z] [lib/backbone] HistoryAnalyzed
[2019-02-28T20:36:17.914Z] [lib/backbone] WatchMarket
[2019-02-28T20:36:18.221Z] [lib/backbone] MarginSynced
[2019-02-28T20:36:18.225Z] [lib/backbone] PositionSynced
[2019-02-28T20:36:18.226Z] [broker/bitmex] ################# pre create job
[2019-02-28T20:36:18.226Z] [broker/bitmex] Job Created { id: 'ag-vzrd2hyv',
  sym: 'XBTUSD',
  qty: 1,
  px: 3807,
  state: 3,
  t: 1551384000000,
  created_at: 1551386178226 }
[2019-02-28T20:36:18.227Z] [broker/bitmex] $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$ updateTargets
[2019-02-28T20:36:18.227Z] [broker/bitmex] px 3807
[2019-02-28T20:36:18.227Z] [broker/bitmex] soft sl_px 3769
[2019-02-28T20:36:18.228Z] [broker/bitmex] hardsl_px 3769
[2019-02-28T20:36:18.228Z] [lib/https] POST https://testnet.bitmex.com/api/v1/order
[2019-02-28T20:36:18.229Z] [core/adapter] subscribed successfully to 'margin'
[2019-02-28T20:36:18.230Z] [core/adapter] subscribed successfully to 'quote:XBTUSD'
[2019-02-28T20:36:18.230Z] [core/adapter] subscribed successfully to 'position:XBTUSD'
[2019-02-28T20:36:18.230Z] [core/adapter] subscribed successfully to 'order:XBTUSD'
[2019-02-28T20:36:18.231Z] [core/adapter] subscribed successfully to 'trade:XBTUSD'
[2019-02-28T20:36:18.231Z] [core/adapter] subscribed successfully to 'tradeBin1m:XBTUSD'
[2019-02-28T20:36:18.242Z] [lib/backbone] OrderSynced
[2019-02-28T20:36:18.242Z] [broker/bitmex] onOrderUpdated
[2019-02-28T20:36:18.243Z] [lib/backbone] CandleReceived
[2019-02-28T20:36:19.228Z] [lib/bitmex] x-ratelimit-remaining 299
[2019-02-28T20:36:19.228Z] [broker/bitmex] candle null
[2019-02-28T20:36:19.228Z] [broker/bitmex] tp_px 3845
[2019-02-28T20:36:19.228Z] [lib/https] POST https://testnet.bitmex.com/api/v1/order
[2019-02-28T20:36:19.230Z] [broker/bitmex] proccessStop
[2019-02-28T20:36:19.230Z] [broker/bitmex] proccessOrder
[2019-02-28T20:36:19.230Z] [broker/bitmex] order lost?! { id: 'ag-vzrd2hyv',
  sym: 'XBTUSD',
  qty: 1,
  px: 3807,
  state: 3,
  t: 1551384000000,
  created_at: 1551386178226,
  sl: 3769 }
[2019-02-28T20:36:19.231Z] [broker/bitmex] Job Destroyed
[2019-02-28T20:36:19.238Z] [lib/backbone] OrderOpened
[2019-02-28T20:36:19.238Z] [broker/bitmex] onOrderUpdated
[2019-02-28T20:36:19.239Z] [broker/bitmex] unknown job undefined { orderID: 'fa9946bd-efa2-104b-fa6e-5534e0363571',
  clOrdID: 'ag-vzrd2hyv-sl',
  clOrdLinkID: '',
  account: 153475,
  symbol: 'XBTUSD',
  side: 'Sell',
  simpleOrderQty: null,
  orderQty: 1,
  price: null,
  displayQty: null,
  stopPx: 3769,
  pegOffsetValue: null,
  pegPriceType: '',
  currency: 'USD',
  settlCurrency: 'XBt',
  ordType: 'Stop',
  timeInForce: 'GoodTillCancel',
  execInst: 'ReduceOnly',
  contingencyType: '',
  exDestination: 'XBME',
  ordStatus: 'New',
  triggered: '',
  workingIndicator: false,
  ordRejReason: '',
  simpleLeavesQty: null,
  leavesQty: 1,
  simpleCumQty: null,
  cumQty: 0,
  avgPx: null,
  multiLegReportingType: 'SingleSecurity',
  text: 'Submitted via API.',
  transactTime: '2019-02-28T20:36:19.223Z',
  timestamp: '2019-02-28T20:36:19.223Z' }
[2019-02-28T20:36:19.239Z] [lib/https] DELETE https://testnet.bitmex.com/api/v1/order
[2019-02-28T20:36:20.546Z] [lib/bitmex] x-ratelimit-remaining 299
[2019-02-28T20:36:20.548Z] [lib/bitmex] x-ratelimit-remaining 298
[2019-02-28T20:36:20.548Z] [broker/bitmex] $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$ updateTargets
[2019-02-28T20:36:20.548Z] [broker/bitmex] soft sl: 3769
[2019-02-28T20:36:20.548Z] [broker/bitmex] ################# post create job
[2019-02-28T20:36:20.549Z] [lib/backbone] OrderUpdated
[2019-02-28T20:36:20.549Z] [broker/bitmex] onOrderUpdated
[2019-02-28T20:36:20.549Z] [lib/backbone] OrderOpened
[2019-02-28T20:36:20.549Z] [broker/bitmex] onOrderUpdated
[2019-02-28T20:36:20.550Z] [broker/bitmex] Unknown order
[2019-02-28T20:36:20.550Z] [lib/https] DELETE https://testnet.bitmex.com/api/v1/order
[2019-02-28T20:36:20.551Z] [lib/backbone] OrderCanceled
[2019-02-28T20:36:20.551Z] [lib/backbone] OrderUpdated
[2019-02-28T20:36:20.551Z] [broker/bitmex] onOrderUpdated
[2019-02-28T20:36:20.551Z] [broker/bitmex] Unknown order
[2019-02-28T20:36:20.552Z] [lib/https] DELETE https://testnet.bitmex.com/api/v1/order
[2019-02-28T20:36:20.552Z] [lib/backbone] OrderCanceled
[2019-02-28T20:36:20.553Z] [lib/backbone] PositionUpdated
[2019-02-28T20:36:21.610Z] [lib/bitmex] x-ratelimit-remaining 298
[2019-02-28T20:36:21.614Z] [lib/bitmex] x-ratelimit-remaining 297
[2019-02-28T20:36:21.629Z] [lib/backbone] OrderUpdated
[2019-02-28T20:36:21.629Z] [broker/bitmex] onOrderUpdated
[2019-02-28T20:36:21.629Z] [broker/bitmex] Unknown order
[2019-02-28T20:36:21.629Z] [lib/https] DELETE https://testnet.bitmex.com/api/v1/order
[2019-02-28T20:36:21.630Z] [lib/backbone] OrderCanceled
[2019-02-28T20:36:21.631Z] [lib/backbone] PositionUpdated
[2019-02-28T20:36:22.597Z] [lib/bitmex] x-ratelimit-remaining 297
[2019-02-28T20:36:26.897Z] [lib/backbone] PositionUpdated
^C
